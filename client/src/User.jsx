import React from 'react';
import { useNavigate } from 'react-router-dom';

import style from './User.module.css'

function UserPage({ user, handleLogout }) {
    const navigate = useNavigate();

    const handleLogoutClick = () => {
	handleLogout();
	navigate('/'); // Redirect to the login page after logout
    };

    const handleApprove = () => navigate('/approve');

    const handleBack = () => navigate('/');

    return (
	<div>
	    <a class="title" href="" onClick={handleBack}>
		<svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
		    <path d="M16.3125 28.95L6.4125 19.05C6.2625 18.9 6.156 18.7375 6.093 18.5625C6.03 18.3875 5.999 18.2 6 18C6 17.8 6.0315 17.6125 6.0945 17.4375C6.1575 17.2625 6.2635 17.1 6.4125 16.95L16.3125 7.05003C16.5875 6.77503 16.9315 6.63153 17.3445 6.61953C17.7575 6.60753 18.1135 6.75103 18.4125 7.05003C18.7125 7.32503 18.869 7.66903 18.882 8.08203C18.895 8.49503 18.751 8.85103 18.45 9.15003L11.1 16.5H27.8625C28.2875 16.5 28.644 16.644 28.932 16.932C29.22 17.22 29.3635 17.576 29.3625 18C29.3625 18.425 29.219 18.7815 28.932 19.0695C28.645 19.3575 28.2885 19.501 27.8625 19.5H11.1L18.45 26.85C18.725 27.125 18.869 27.475 18.882 27.9C18.895 28.325 18.751 28.675 18.45 28.95C18.175 29.25 17.825 29.4 17.4 29.4C16.975 29.4 16.6125 29.25 16.3125 28.95Z" fill="#F1EEFF"/>
		</svg>
		<h2>User Information</h2>
	    </a>
	    <div class={style.body}>
		<svg class={style.user} width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg">
		    <path d="M30.2131 27.0703C28.4457 23.9685 25.686 21.5516 22.3781 20.2087C24.0231 18.9749 25.2382 17.2549 25.8513 15.2923C26.4643 13.3296 26.4444 11.2238 25.7941 9.27311C25.1439 7.32244 23.8964 5.62579 22.2283 4.42352C20.5603 3.22124 18.5562 2.57428 16.5 2.57428C14.4438 2.57428 12.4397 3.22124 10.7717 4.42352C9.1036 5.62579 7.8561 7.32244 7.20587 9.27311C6.55565 11.2238 6.53566 13.3296 7.14875 15.2923C7.76184 17.2549 8.97693 18.9749 10.6219 20.2087C7.31404 21.5516 4.55432 23.9685 2.78696 27.0703C2.67744 27.2464 2.60446 27.4427 2.57233 27.6476C2.5402 27.8525 2.54959 28.0617 2.59994 28.2628C2.65029 28.464 2.74057 28.653 2.86542 28.8186C2.99027 28.9841 3.14713 29.1229 3.32668 29.2267C3.50623 29.3304 3.70481 29.397 3.91061 29.4224C4.1164 29.4479 4.32522 29.4317 4.52464 29.3749C4.72406 29.318 4.91001 29.2216 5.07144 29.0915C5.23287 28.9613 5.36649 28.8 5.46434 28.6172C7.80012 24.5799 11.9251 22.1719 16.5 22.1719C21.0749 22.1719 25.1999 24.5812 27.5357 28.6172C27.7477 28.9582 28.0841 29.2034 28.4736 29.3009C28.8632 29.3984 29.2754 29.3406 29.6231 29.1397C29.9708 28.9388 30.2267 28.6106 30.3368 28.2244C30.4469 27.8382 30.4025 27.4244 30.2131 27.0703ZM9.79688 12.375C9.79688 11.0493 10.19 9.75329 10.9266 8.65097C11.6631 7.54864 12.71 6.68949 13.9348 6.18214C15.1597 5.6748 16.5074 5.54205 17.8077 5.8007C19.108 6.05934 20.3024 6.69775 21.2398 7.6352C22.1773 8.57265 22.8157 9.76703 23.0743 11.0673C23.333 12.3676 23.2002 13.7154 22.6929 14.9402C22.1855 16.165 21.3264 17.2119 20.2241 17.9485C19.1217 18.685 17.8258 19.0781 16.5 19.0781C14.7229 19.0761 13.0191 18.3692 11.7624 17.1126C10.5058 15.8559 9.79893 14.1522 9.79688 12.375Z" fill="currentColor"/>
		</svg>
		<h1>{user.username}</h1>
		{user.userType !== 'admin' ?
		 <p>College: {user.collegeName}</p>
		 :
		 <button onClick={handleApprove}>View college signup requests</button>
		}
		<button onClick={handleLogoutClick}>Logout</button>
	    </div>
	</div>
    );
}

export default UserPage;
